trigger: none
pr:
  branches:
    include:
    - main
  paths:
    include:
    - eng/*
    - tests/*

resources:
  repositories:
  - repository: VersionsRepo
    type: github
    endpoint: public
    name: dotnet/versions

variables:
- template: /eng/pipelines/variables/common.yml@self
- name: manifest
  value: manifest.json
- name: imageBuilder.pathArgs
  value: ""
  readonly: true

stages:
- template: /eng/common/templates/stages/dotnet/publish-config-nonprod.yml@self
  parameters:
    stagesTemplate: /eng/pipelines/stages/dotnet-framework-base.yml@self
    stagesTemplateParameters:
      versionsRepoRef: VersionsRepo
      noCache: true
