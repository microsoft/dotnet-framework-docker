variables:
- template: /eng/common/templates/variables/dotnet/build-test-publish.yml@self

- name: "publicGitRepoUri"
  value: "https://github.com/microsoft/dotnet-framework-docker"

- name: "productVersionComponents"
  value: 3

- name: "testScriptPath"
  value: "./tests/run-tests.ps1"
- name: "testResultsDirectory"
  value: "tests/Microsoft.DotNet.Framework.Docker.Tests/TestResults/"

# .NET Framework images only publish from one branch
- name: "publicSourceBranch"
  value: "main"
  readonly: true

- name: "additionalPublishMcrDocsArgs"
  value: "--root /repo/.portal-docs"

- ${{ if contains(variables['Build.DefinitionName'], '-official') }}:
  - name: "publishEolAnnotations"
    value: true

- ${{ else }}:
  # Disable EOL annotations for unofficial build
  - name: "publishEolAnnotations"
    value: false
    readonly: true

  # Unofficial secrets group has no GitHub token for publishing image info, notifications, or readmes
  - name: "publishImageInfo"
    value: false
    readonly: true
  - name: "publishNotificationsEnabled"
    value: false
    readonly: true
  - name: "publishReadme"
    value: false
    readonly: true

  # There aren't test/unofficial Kusto tables for build telemetry yet
  - name: "ingestKustoImageInfo"
    value: false
    readonly: true

  # Always run unofficial pipelines in debug mode
  - name: "System.Debug"
    value: true
    readonly: true
